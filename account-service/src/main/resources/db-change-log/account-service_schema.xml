<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
         https://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.1.xsd">
    <changeSet id="2023-11-17" author="Mona.Shaker">
        <sql>
            CREATE TABLE "customer"
            (
                "id"      bigint GENERATED BY DEFAULT AS IDENTITY NOT NULL,
                "name"    varchar(50)                             NOT NULL,
                "surname" varchar(100)                            NOT NULL,
                CONSTRAINT "pk_customer"
                    PRIMARY KEY ("id")
            );

            CREATE TABLE "account"
            (
                "id"              bigint GENERATED BY DEFAULT AS IDENTITY NOT NULL,
                "customer_id"     bigint,
                "balance"         bigint,
                "initial_balance" bigint,
                CONSTRAINT "pk_account"
                    PRIMARY KEY ("id")
            );

            ALTER TABLE "account"
                ADD CONSTRAINT "fk_account_on_customer"
                    FOREIGN KEY ("customer_id") REFERENCES "customer" ("id");
        </sql>
    </changeSet>

</databaseChangeLog>
